$(function(){window.ursConfig={productkey:"1dd143c50baa32228d62bd2fde007b4d",swidth:217,product:"yyd",promark:"BHHeXmu",host:"yuedu.163.com",includeBox:"login-container",skin:1,page:"login",placeholder:{account:"邮箱帐号(含手机邮箱)",pwd:"6-16位密码，区分大小写"},needUnLogin:1,defaultUnLogin:0,single:1,regUrl:"http://reg.163.com/reg/reg0_new.jsp?product=easyread&amp;url="+window.location.protocol+"//yuedu.163.com/index.do",cssDomain:/dev.*.yuedu.163.com|test.*.yuedu.163.com|pre.*.yuedu.163.com/.test(location.origin)?location.origin+"/assets/css/":"https://yuedust.yuedu.126.net/assets/css/",cssFiles:"ursLogin.css?"+new Date().getTime(),frameSize:{width:250,height:230},logincb:function(j,k){if(typeof(targetUrl)!="undefined"){location.href=decodeURIComponent(targetUrl)}else{location.reload()}},regcb:function(j){},errMsg:""};if(!$("#login-layer").length){$('<div id="login-layer" class="m-login-layer m-login-layer-wy" style="display: none;">			    <div class="lytt yy"><a class="lyclose j-close" style="display:block;">关闭</a>			        <h4>网易邮箱登录</h4></div>			    <div class="content">			        <div class="m-loginwrap">			        	<div class="m-loginwrap__main">			        		<div class="m-login" id="login-container"></div>			        	</div>			            <div class="m-loginswitch">			                <h6>其他帐号登录：</h6>			                <ul>			                    <li class="sj"><a><span class="login-icon"></span><div>手机号</div></a></li>			                    <li class="xl xllogin"><a><span class="login-icon"></span><div>新浪微博</div></a></li>			                    <li class="tx txlogin"><a><span class="login-icon"></span><div>腾讯微博</div></a></li>			                    <li class="wx wxlogin"><a><span class="login-icon"></span><div>微信</div></a></li>			                </ul>			            </div>			        </div>			    </div>			</div>').appendTo($("body"))}var b=function(){var j=document.getElementById("ursScript");if(j){j.parentNode.removeChild(j)}j=document.createElement("script");j.src="https://ursdoccdn.nosdn.127.net/webzj_cdn101/message_170510.js?random="+new Date().getTime();j.id="ursScript";j.onload=function(k){URS&&URS.setPkidAndPd({pkid:"BHHeXmu",pd:"yyd",mode:1})};document.body.appendChild(j)};var i=document.getElementById("ursStyle");if(i){ursScript.parentNode.removeChild(i)}i=document.createElement("link");i.id="ursStyle";i.rel="stylesheet";i.type="text/css";i.onload=b;i.onerror=b;i.href=ursConfig.cssDomain+ursConfig.cssFiles;var f=document.getElementsByTagName("head")[0];f.appendChild(i);var c=function(){location.reload()};window.YD=(typeof YD=="undefined")?{}:YD;YD.popTip=function(m){var j='<div id="J_FIXED" class="m-tipss" style="display:none;"><div id="J_TIPS" class="inner"></div></div>';if($("#J_FIXED").length==0){$("body").prepend(j)}var l=m,k=$("#J_TIPS");k.empty().html(l);k.parent().fadeIn(300).delay(3000).fadeOut(300)};YD.openLayer=function(p,t){var o=$(p),s=o.width(),l=o.height(),m=$(window).width(),n=$(window).height();var k=t=="off"?"off":"on";setTimeout(function(){if(k=="on"){YD.createMask()}},60);var r=$(document).scrollTop(),q=(n-l)/2+r,j=(m-s)/2;o.css({top:q,left:j,"z-index":8999}).show();$(".j-close",o).unbind().click(function(u){u.preventDefault();o.trigger("hide");o.hide();if($(".m-mask").length!==0){$(".m-mask").hide()}})};YD.createMask=function(){if($(".m-mask").length===0){var j=$('<div class="m-mask" style="display:block;"></div>');j.height($(document).height());j.insertAfter($(".g-doc"))}else{$(".m-mask").eq(0).height($(document).height()).show()}};window.mobiReg={};mobiReg.callbackReg=function(j){switch(j){case 0:c();break;case -1005:YD.popTip("密码不匹配，请重新输入密码");break;case 900:YD.popTip("手机验证码失效，请重新发送验证码");break;case 901:YD.popTip("手机验证码错误，请检查");break;case 400:YD.popTip("此号码已注册，请直接登录");break;case 905:YD.popTip("手机号码格式错误，请检查");break;default:YD.popTip("出错了，请稍后再试");break}};mobiReg.callbackPass=function(j){switch(j){case 0:YD.popTip("密码修改成功");$("#login-layer").hide();location.reload();break;case -1005:YD.popTip("密码不匹配，请重新输入密码");break;case 900:YD.popTip("手机验证码失效，请重新发送验证码");break;case 901:YD.popTip("手机验证码错误，请检查");break;case -1004:YD.popTip("此号码尚未注册，请检查");break;case 905:YD.popTip("手机号码格式错误，请检查");break;default:YD.popTip("出错了，请稍后再试");break}};function g(j){this.options=j||{};this.init()}g.prototype.init=function(){this.eventBind();if(this.options.targetUrl){window.targetUrl=this.options.targetUrl}};g.prototype.showEmailLogin=function(){if(!$("#x-URS-iframe").length){$("#login-layer .content").html('<div class="m-loginwrap">									            <div class="m-loginwrap__main">									            	<div class="m-login" id="login-container"></div>									            </div>									            <div class="m-loginswitch">									                <h6>其他帐号登录：</h6>									                <ul>									                    <li class="sj"><a><span class="login-icon"></span><div>手机号</div></a></li>									                    <li class="xl xllogin"><a><span class="login-icon"></span><div>新浪微博</div></a></li>									                    <li class="tx txlogin"><a><span class="login-icon"></span><div>腾讯微博</div></a></li>									                    <li class="wx wxlogin"><a><span class="login-icon"></span><div>微信</div></a></li>									                </ul>									            </div>									        </div>');var k=new URS(ursConfig)}var j=$("#login-layer");j.attr("class","m-login-layer m-login-layer-wy").find("h4").text("网易邮箱登录");if($(".m-loginswitch li.wy").length){$(".m-loginswitch li.wy").attr("class","sj").find("div").text("手机号")}j.show()};g.prototype.showMobileLogin=function(){var j=$("#login-layer"),k;if(j.find("#login-container").length){k='<iframe name="cellPhoneLoginTarget" style="display:none;">						     #document							   <html>							     <head></head>							     <body></body>							   </html>						   </iframe>						   <form action="//'+location.host+'/cellPhoneLogin.do" method="post" target="cellPhoneLoginTarget">						       <input type="hidden" name="operation" value="login">						       <div class="row" style="z-index:99999;margin-bottom:16px;">						           <div>						               <div class="cxt-input"><span class="ipt-wrap"><input type="text" name="cellPhone" class="ipt" autocomplete="off" placeholder="手机号码登录"></span></div>						           </div>						       </div>						       <div class="row"><span class="ipt-wrap"><input type="password" placeholder="登录密码" class="ipt" name="password"></span></div>						       <div class="row-3 errortip" style="display:none;"></div>						       <div class="row row-1">						           <input id="mobiLogCookie" type="checkbox" name="remember_me">						           <label for="mobiLogCookie" class="auto">两周内自动登录</label><a class="j-mobilereg" type="pw">忘记密码？</a></div>						       <div class="row j-checkarea" style="display:none;">						           <input type="text" placeholder="验证码" class="ipt checkcodeipt" name="checkCode"><img width="60" height="30" class="checkcodeimg"></div>						       <div class="row row-2">						           <button><span>登录</span></button>						       </div>						       <div class="row"><a class="wyt j-mobilereg">没有帐号？免费注册</a></div>						   </form>';$(".m-loginswitch li.sj").attr("class","wy").find("div").text("邮箱登录");j.find("#login-container").html(k)}else{k='<div class="m-loginwrap">								<div class="m-loginwrap__main">							       <div class="m-login" id="login-container">									   <iframe name="cellPhoneLoginTarget" style="display:none;">									       #document										   <html>										     <head></head>										     <body></body>										   </html>									   </iframe>									   <form action="//'+location.host+'/cellPhoneLogin.do" method="post" target="cellPhoneLoginTarget">									       <input type="hidden" name="operation" value="login">									       <div class="row" style="z-index:99999;margin-bottom:16px;">									           <div>									               <div class="cxt-input"><span class="ipt-wrap"><input type="text" name="cellPhone" class="ipt" autocomplete="off" placeholder="手机号码登录"></span></div>									           </div>									       </div>									       <div class="row"><span class="ipt-wrap"><input type="password" placeholder="登录密码" class="ipt" name="password"></span></div>									       <div class="row-3 errortip" style="display:none;"></div>									       <div class="row row-1">									           <input id="mobiLogCookie" type="checkbox" name="remember_me">									           <label for="mobiLogCookie" class="auto">两周内自动登录</label><a class="j-mobilereg" type="pw">忘记密码？</a></div>									       <div class="row j-checkarea" style="display:none;">									           <input type="text" placeholder="验证码" class="ipt checkcodeipt" name="checkCode"><img width="60" height="30" class="checkcodeimg"></div>									       <div class="row row-2">									           <button><span>登录</span></button>									       </div>									       <div class="row"><a class="wyt j-mobilereg">没有帐号？免费注册</a></div>									   </form>								   </div>								</div>							   <div class="m-loginswitch">							       <h6>其他帐号登录：</h6>							       <ul>							           <li class="wy"><a><span class="login-icon"></span><div>邮箱登录</div></a></li>							           <li class="xl xllogin"><a><span class="login-icon"></span><div>新浪微博</div></a></li>							           <li class="tx txlogin"><a><span class="login-icon"></span><div>腾讯微博</div></a></li>							           <li class="wx wxlogin"><a><span class="login-icon"></span><div>微信</div></a></li>							       </ul>							   </div>						   </div>';j.find(".content").html(k)}j.attr("class","m-login-layer m-login-layer-mb").find("h4").text("手机号登录");j.show()};g.prototype.sinaLogin=function(){if(window.location.protocol=="https:"){var j="https%3A%2F%2F"+window.location.host+"%2FweiboCallback.do%3Fsite%3D1%26from%3Dlogin%26fromHttps%3Dtrue"}else{var j="http%3A%2F%2F"+window.location.host+"%2FweiboCallback.do%3Fsite%3D1%26from%3Dlogin%26fromHttps%3Dfalse"}window.open("https://api.weibo.com/oauth2/authorize?client_id=3626227865&response_type=code&state=&redirect_uri="+j+"&forcelogin=false&display=","sinaLoginWindow")};g.prototype.tencentLogin=function(){if(window.location.protocol=="https:"){var j="https%3A%2F%2F"+window.location.host+"%2FweiboCallback.do%3Fsite%3D4%26from%3Dlogin%26fromHttps%3Dtrue"}else{var j="http%3A%2F%2F"+window.location.host+"%2FweiboCallback.do%3Fsite%3D4%26from%3Dlogin%26fromHttps%3Dfalse"}window.open("https://open.t.qq.com/cgi-bin/oauth2/authorize?client_id=801078487&response_type=code&state=&redirect_uri="+j+"&forcelogin=false","tencentWeiboLoginWindow")};g.prototype.weixinLogin=function(){var j="http%3A%2F%2Fyuedu.163.com%2FweiboCallback.do%3Fsite%3D7%26from%3Dlogin%26fromHttps%3Dfalse";if(window.location.protocol=="https:"){var j="https%3A%2F%2Fyuedu.163.com%2FweiboCallback.do%3Fsite%3D7%26from%3Dlogin%26fromHttps%3Dtrue"}if(~location.host.indexOf("guofeng")){j+="%26app%3Dguofeng"}else{if(~location.host.indexOf("caiwei")){j+="%26app%3Dcaiwei"}}window.open("https://open.weixin.qq.com/connect/qrconnect?response_type=code&state=&redirect_uri="+j+"&scope=snsapi_login&appid=wxc662b4239bb6644e","weixinLoginWindow")};g.prototype.logout=function(j){if(j){location.href="//"+window.location.host+"/logoutRedir.do?target="+encodeURIComponent(j)}else{location.href="//"+window.location.host+"/logout"}};g.prototype.checkMobile=function(){var k=$("#login-layer");var l="";var j=k.data("type");if(j=="mobileForget"){l="手机号找回密码"}else{l="手机号注册"}k.attr("class","m-login-layer m-login-layer-mb");k.find("h4").text(l);k.find(".content").html('<div class="m-regwrap">											<div class="m-regstep-1">											  <p>需要验证你的手机号码，该号码不会对其他人公开</p>											  <p style="display: none;" id="mobileCodeTip"><em></em></p>											  <p class="check-code">											      <input type="text" class="text J_CheckCodeInput">											      <img src="/captcha.do">											  </p>											  <p class="inputpara">											    <input type="text" placeholder="请输入手机号码">											    <a class="next j-getma">获取验证码</a>											  </p>											</div>											<div class="m-regback">											  <a class="backtolog">&lt;&lt;返回登录</a>											</div>										  </div>')};g.prototype.eventBind=function(){var j=this;j.errorCode=[];j.errorCode["-1001"]="对不起，您的验证码过期。";j.errorCode["-1002"]="对不起，您的验证码无效。";j.errorCode["-1003"]="对不起，此号码已注册。";j.errorCode["-1004"]="对不起，此号码尚未注册。";j.errorCode["-1005"]="对不起，您的密码错误。";j.errorCode["-1"]="对不起，您的图形验证码错误。";j.errorCode["900"]="对不起，您的手机验证码失效。";j.errorCode["901"]="对不起，您的手机验证码错误。";j.errorCode["902"]="对不起，您的短信请求次数超过限制。";j.errorCode["905"]="对不起，您的手机号码格式错误。";j.errorCode["-769"]="参数错误。";var l=$("#login-layer");var k=function(){var m=59;j.Timer=setInterval(function(){var n="";if(m>9){n="00:"+m}else{n="00:0"+m}$(".m-regwrap .timer").text(n);m--;if(m<0){$(".j-ReGetma").removeClass("blocked");clearInterval(j.Timer)}},1000)};l.on("click","a.j-close",function(){l.hide()});l.on("click","li.sj",function(){j.showMobileLogin();$(this).attr("class","wy").html('<a><span class="login-icon"></span><div>邮箱登录</div></a>')}).on("click","li.wy",function(){j.showEmailLogin();$(this).attr("class","sj").html('<a><span class="login-icon"></span><div>手机号</div></a>')}).on("click","li.xl",function(){j.sinaLogin()}).on("click","li.tx",function(){j.tencentLogin()}).on("click","li.wx",function(){j.weixinLogin()});l.on("click",'.j-mobilereg[type="pw"]',function(){l.data("type","mobileForget");j.checkMobile()});l.on("click",".wyt.j-mobilereg",function(){l.data("type","mobileReg");j.checkMobile()});l.on("click",".backtolog",function(){j.showMobileLogin()});l.on("click",".j-getma",function(){if($(this).hasClass("disable")){return}var m=$(".inputpara input").val();var o=$(".J_CheckCodeInput").val();if(o.length<4){$("#mobileCodeTip em").text("请输入如图所示的验证码");$("#mobileCodeTip").show()}else{if(m.length!=11||m[0]!="1"){$("#mobileCodeTip em").text("请输入正确的手机号码");$("#mobileCodeTip").show()}else{l.data("phoneNumber",m);var n=l.data("type")==="mobileReg"?1:2;$.ajax({url:"/cellPhoneAccount.do",type:"POST",data:{operation:"verifyCode",type:n,cellPhone:m,code:o},success:function(p){if(p.resultCode===0){var q="<p><span>已经向手机号</span><span>"+m+'</span><span>发送验证短信</span></p>										    <p style="display:none;" id="mobileCodeTip"><em></em></p>										    <p class="inputpara">										        <input type="text" placeholder="请输入验证码"><a class="next j-sendma">下一步</a>										    </p>										    <p style="margin:10px 0 0 0;">										    	<a class="link changecell">选择其他手机号码</a><span class="sep">|</span><a class="link j-ReGetma blocked">重新获取验证码</a><span class="timer">00:60</span>										    </p>';$(".m-regstep-1").html(q);k()}else{$("#mobileCodeTip em").text(j.errorCode[p.resultCode]);$("#mobileCodeTip").show();if(p.resultCode===-1){$(".check-code img").trigger("click");$(".J_CheckCodeInput").val("").focus()}}},error:function(){}})}}});l.on("click",".j-ReGetma",function(){var o=$(this);if(!o.hasClass("blocked")){o.addClass("blocked");var n=l.data("type")==="mobileReg"?1:2;var m=l.data("phoneNumber");$.ajax({url:"/cellPhoneAccount.do",type:"POST",data:{operation:"verifyCode",type:n,cellPhone:m},success:function(p){if(p.resultCode===0){k()}else{$("#mobileCodeTip em").text(j.errorCode[p.resultCode]);$("#mobileCodeTip").show()}},error:function(){}})}});l.on("click",".changecell",function(){if(j.Timer){clearInterval(j.Timer)}j.checkMobile()});l.on("click",".next.j-sendma",function(){var o=$(".inputpara input").val();var n=l.data("type")==="mobileReg"?1:2;var m=l.data("phoneNumber");$.ajax({url:"/cellPhoneAccount.do",type:"POST",data:{operation:"checkCode",type:n,cellPhone:m,verifyCode:o},success:function(r){if(r.resultCode===0){var q=r.signature;var p=r.cellPhone;var u=r.verifyCode;if(n===1){var v='<div>										        <iframe name="cellPhoneRegTarget" style="display:none;"></iframe>										        <form id="cellPhoneRegForm" action="//'+location.host+'/cellPhoneAccount.do" method="post" target="cellPhoneRegTarget">										            <div class="m-regstep-2">										                <input type="hidden" name="operation" value="register">										                <input type="hidden" name="cellPhone" value="'+p+'">										                <input type="hidden" name="verifyCode" value="'+u+'">										                <input type="hidden" name="signature" value="'+q+'">										                <div>										                    <p><span>设置昵称</span><em class="j-warning0" style="display: none;">昵称长度2-15字符</em></p>										                    <p>										                        <input class="nickname" type="text" placeholder="请输入2-15个字的昵称" name="nickName">										                    </p>										                    <p>性别</p>										                    <p><span class="gender" style="margin:0 90px 0 0;"><input type="radio" name="gender" value="1" id="male" checked=""><label for="male">男</label></span><span class="gender"><input type="radio" name="gender" value="0" id="female"><label for="female">女</label></span></p>										                </div>										                <div>										                    <p><span>设置密码</span><em class="j-warning1" style="display:none;">密码长度不少于6位</em></p>										                    <p>										                        <input class="pw pw-f" type="password" placeholder="不少于6位" name="password">										                    </p>										                    <p><span>确认密码</span><em class="j-warning2" style="display:none;">两次密码不一致</em></p>										                    <p>										                        <input class="pw pw-s" type="password" placeholder="不少于6位" name="passwordConfirm">										                    </p>										                </div>										                <p>										                    <a class="done j-done-1">完成</a>										                </p>										                <p><em class="reg-result" style="display:none;"></em></p>										            </div>										        </form>										    </div>										    <div class="m-regback"><a class="backtolog">&lt;&lt;返回登录</a></div>';$(".m-regwrap").html(v);var s={nickname:false,password1:false,password2:false};$("#cellPhoneRegForm .nickname").on("input propertychange",function(){var x=$(this);var w=x.val();if(w.length<2||w.length>15){$("em.j-warning0").show()}else{$("em.j-warning0").hide();s.nickname=true}});$("#cellPhoneRegForm .pw-f").on("input propertychange",function(){var x=$(this);var w=x.val();if(w.length<6){$("em.j-warning1").show()}else{$("em.j-warning1").hide();s.password1=true}});$("#cellPhoneRegForm .pw-s").on("input propertychange",function(){var x=$(this);var w=x.val();if(w!==$(".pw-f").val()){$("em.j-warning2").show()}else{$("em.j-warning2").hide();s.password2=true}});$("#cellPhoneRegForm .j-done-1").on("click",function(){if(s.nickname&&s.password1&&s.password2){$("#cellPhoneRegForm").submit()}})}else{var v='<div>										        <iframe name="cellPhoneRegTarget" style="display:none;"></iframe>										        <form id="cellPhoneRepwdForm" action="//'+location.host+'/cellPhoneAccount.do" method="post" target="cellPhoneRegTarget">										            <div class="m-regstep-2">										                <input type="hidden" name="operation" value="modifyPassword">										                <input type="hidden" name="cellPhone" value="'+p+'">										                <input type="hidden" name="verifyCode" value="'+u+'">										                <input type="hidden" name="signature" value="'+q+'">										                <div>										                    <p><span>设置密码</span><em class="j-warning1" style="display:none;">密码长度不少于6位</em></p>										                    <p>										                        <input class="pw pw-f" type="password" placeholder="不少于6位" name="password">										                    </p>										                    <p><span>确认密码</span><em class="j-warning2" style="display:none;">两次密码不一致</em></p>										                    <p>										                        <input class="pw pw-s" type="password" placeholder="不少于6位" name="passwordConfirm">										                    </p>										                </div>										                <p>										                    <a class="done j-done-1" disabled="">完成</a>										                </p>										                <p><em class="reg-result" style="display:none;"></em></p>										            </div>										        </form>										    </div>										    <div class="m-regback"><a class="backtolog">&lt;&lt;返回登录</a></div>';$(".m-regwrap").html(v);var t={password1:false,password2:false};$("#cellPhoneRepwdForm .pw-f").on("input propertychange",function(){var x=$(this);var w=x.val();if(w.length<6){$("em.j-warning1").show()}else{$("em.j-warning1").hide();t.password1=true}});$("#cellPhoneRepwdForm .pw-s").on("input propertychange",function(){var x=$(this);var w=x.val();if(w!==$(".pw-f").val()){$("em.j-warning2").show()}else{$("em.j-warning2").hide();t.password2=true}});$("#cellPhoneRepwdForm .j-done-1").on("click",function(){if(t.password1&&t.password2){$("#cellPhoneRepwdForm").submit()}})}}else{$("#mobileCodeTip em").text(j.errorCode[r.resultCode]);$("#mobileCodeTip").show()}}})});l.on("click",".check-code img",function(){$(this).attr("src","/captcha.do?"+new Date().getTime())})};window.YueduLogin=g;window.login163=function(k){var j=new g({targetUrl:k});j.showEmailLogin()};window.log163out=function(k){var j=new g();j.logout(k)};var h=function(j){targeturl=$("input[name^='loginTargetUrl']");if(j==="success"){if(targeturl.length>0&&targeturl.val().length>0){window.location.href=targeturl.val()}else{c()}}else{if(j==="notRegistered"){$("#login-container .errortip").text("手机号未注册").show()}else{if(j==="authenticationFailed"){$("#login-container .errortip").text("密码错误").show()}else{if(j==="notRegisteredNeedCode"){$("#login-container .errortip").text("手机号未注册").show();d()}else{if(j==="authFailNeedCode"){$("#login-container .errortip").text("密码错误").show();d()}else{if(j==="errorCaptcha"){$("#login-container .errortip").text("验证码错误").show();d()}else{$("#login-container .errortip").text("错误").show()}}}}}}};function d(){if($(".j-checkarea .checkcodeimg").length){$(".j-checkarea .checkcodeimg").attr("src","/captcha.do?d="+(new Date()).getTime())}else{$(".j-checkarea").append('<img src="/captcha.do?d='+(new Date()).getTime()+'" width="60" height="30" class="checkcodeimg"/>')}$(".j-checkarea").show()}var e=function(n){var o='		<div id="J_NickName" style="z-index: 8999;" class="m-newlayer m-newlayer-log f-db1" >			<h2><span>输入昵称</span><a href="javascript:void(0)" class="j-close"></a></h2>			<div class="inner">				<div class="content" style="margin-top:-10px;">					<p class="title">昵称</p>					<p id="J_NickTip" class="nktip" style="display:none" >请输入2-15个字的昵称</p>					<p><input class="ipt" id="J_NickIpt" type="text" placeholder="请输入2-15个字的昵称"/></p>					<p class="title">性别</p>					<p class="title" style="margin-top:0;"><span class="gender" style="margin:0 90px 0 0"><input type="radio" name="gender" checked="checked" value="1" id="male" /><label for="male">男</label></span><span class="gender"><input type="radio" name="gender" value="0" id="female" /><label for="female">女</label></span></p>				</div>				<div class="button">					<a id="J_SendNickname" class="ok">完成</a>				</div>			</div>		</div>';$("body").append(o);var l=$("#J_NickTip");var j=$("input[name^='loginTargetUrl']");if(n){$("#J_NickIpt").val(n)}var m=function(){$("#J_SendNickname").click(function(){var q=$.trim($("#J_NickIpt").val()),p=$('input[name="gender"]:checked').val();if(q.length<2||q.length>15){l.fadeIn(300);return}$.ajax({type:"POST",url:"/snsLogin.do",data:{operation:"initProfile",nickName:q,gender:p},dataType:"json",success:function(r){if(j.length>0&&j.val().length>0){window.location.href=j.val()}else{c()}},error:function(){YD.popTip("出错了，请稍候再试")}})})};m();var k=document.getElementById("$_qLoginDivNew");if(k){k.style.zIndex=4999}YD.openLayer("#J_NickName")};var a=function(){var j=$("input[name^='loginTargetUrl']");if(j.length>0&&j.val().length>0){window.location.href=j.val()}else{c()}};if(YD.Header==undefined){YD.Header={}}YD.Header.mobileCallback=h;YD.Header.externalTempLogin=e;YD.Header.externalFormalLogin=a})+function(){if(!$.cookie){return}var a={isLogin:!1,userId:null};var c=$.cookie("P_INFO");var b=$.cookie("S_INFO");if(c){c=c.split("|");a.userId=c[0];if(c[2]==1||c[2]==0&&b){a.isLogin=!0}}window.G_USER=a}();// JavaScript Document